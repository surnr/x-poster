# Environment Variables Setup

This file documents all required environment variables for the X-Poster worker.

## Setup Instructions

### 1. OpenAI & AI Gateway Configuration

```bash
# Your OpenAI API key
wrangler secret put OPENAI_API_KEY
# Enter your key when prompted

# Your Cloudflare Account ID
wrangler secret put AI_GATEWAY_ACCOUNT_ID
# Find at: Cloudflare Dashboard → Account ID (top right)

# Your AI Gateway name
wrangler secret put AI_GATEWAY_NAME
# Created at: Cloudflare Dashboard → AI → AI Gateway
```

### 2. Twitter API Credentials

Follow these steps to get Twitter API credentials:

1. Go to https://developer.twitter.com/
2. Create a new project and app
3. Enable OAuth 1.0a with Read & Write permissions
4. Generate API keys and access tokens

```bash
# Consumer Key (API Key)
wrangler secret put TWITTER_API_KEY

# Consumer Secret (API Secret)
wrangler secret put TWITTER_API_SECRET

# Access Token
wrangler secret put TWITTER_ACCESS_TOKEN

# Access Token Secret
wrangler secret put TWITTER_ACCESS_SECRET
```

## Verifying Setup

Test your configuration:

```bash
# Start local dev server
npm run dev

# Check status endpoint
curl http://localhost:8787/status

# Test trigger (won't post in dev mode without secrets)
curl http://localhost:8787/trigger
```

## Updating Secrets

To update an existing secret:

```bash
wrangler secret put SECRET_NAME
```

To delete a secret:

```bash
wrangler secret delete SECRET_NAME
```

To list all secrets (names only, values are hidden):

```bash
wrangler secret list
```

## Production Deployment

Before deploying to production:

1. ✅ All secrets set
2. ✅ Twitter API app has Read & Write permissions
3. ✅ AI Gateway created and configured

Deploy:

```bash
npm run deploy
```

Monitor logs:

```bash
wrangler tail
```
